---
alwaysApply: true
---

# Mantis Layout 구조 및 새 페이지 생성 가이드

## Mantis Dashboard Layout 구조 분석

### 전체 레이아웃 구조

```
Dashboard Layout (mantis/src/layout/Dashboard/index.jsx)
├── Header (상단 고정 바)
│   ├── 햄버거 메뉴 버튼 (Drawer 열기/닫기)
│   └── HeaderContent
│       ├── Search (검색, lg 이상에서만 표시)
│       ├── GitHub 링크 아이콘
│       ├── Notification (알림)
│       ├── Profile (프로필, lg 이상)
│       └── MobileSection (모바일, lg 미만)
├── Drawer (사이드바)
│   ├── DrawerHeader (로고)
│   └── DrawerContent
│       ├── Navigation (메뉴 네비게이션)
│       └── NavCard (Drawer 열림 시에만 표시)
└── Main Content Area
    ├── Breadcrumbs (브레드크럼)
    ├── Outlet (React Router 페이지 컨텐츠)
    └── Footer (하단 푸터)
```

### 주요 컴포넌트 위치

- **레이아웃 메인**: `mantis/src/layout/Dashboard/index.jsx`
- **헤더**: `mantis/src/layout/Dashboard/Header/`
- **사이드바**: `mantis/src/layout/Dashboard/Drawer/`
- **푸터**: `mantis/src/layout/Dashboard/Footer.jsx`
- **페이지**: `mantis/src/pages/`
- **라우트**: `mantis/src/routes/`
- **메뉴 아이템**: `mantis/src/menu-items/`

### 레이아웃 동작 방식

#### 1. Dashboard Layout (index.jsx)
- **역할**: 전체 레이아웃 컨테이너
- **구조**: Flexbox 레이아웃 (`display: 'flex'`)
- **반응형**: `downXL` 기준으로 Drawer 자동 열림/닫힘
- **메인 컨텐츠 너비**: `calc(100% - 260px)` (Drawer 열림 기준)
- **패딩**: `xs: 2, sm: 3`

#### 2. Header
- **위치**: `position: fixed`, `zIndex: 1200`
- **너비 조정**:
  - lg 이상: Drawer 상태에 따라 동적 조정
    - Drawer 열림: `calc(100% - 260px)`
    - Drawer 닫힘: `calc(100% - 60px)`
  - lg 미만: 전체 너비 (`100%`)
- **구성 요소**:
  - 햄버거 메뉴 버튼 (Drawer 토글)
  - 검색 (lg 이상)
  - 알림
  - 프로필 (lg 이상) / 모바일 섹션 (lg 미만)

#### 3. Drawer (사이드바)
- **반응형 동작**:
  - **lg 이상**: `MiniDrawerStyled` (permanent)
    - 열림: 260px 너비
    - 닫힘: 60px 너비 (미니 사이즈)
  - **lg 미만**: `Drawer` (temporary)
    - 모달 형태로 오버레이
    - 열림/닫힘 토글 가능
- **구성 요소**:
  - DrawerHeader: 로고 (열림/닫힘에 따라 전체 로고 또는 아이콘만)
  - DrawerContent: 네비게이션 메뉴 및 NavCard

#### 4. Main Content Area
- **너비**: `calc(100% - 260px)` (Drawer 열림 기준)
- **패딩**: `xs: 2, sm: 3`
- **최소 높이**: `calc(100vh - 110px)`
- **구조**:
  ```
  <Box component="main">
    <Toolbar />        // 헤더 높이만큼 여백
    <Box>
      <Breadcrumbs />  // 경로 표시
      <Outlet />       // 실제 페이지 컨텐츠
      <Footer />       // 하단 푸터
    </Box>
  </Box>
  ```

### 반응형 브레이크포인트

- **XL 이상** (`downXL = false`):
  - Drawer 자동 열림
  - Header 너비: Drawer 상태에 따라 조정

- **LG ~ XL** (`downLG = false, downXL = true`):
  - Drawer 수동 제어 가능
  - Header 너비: Drawer 상태에 따라 조정

- **LG 미만** (`downLG = true`):
  - Drawer: 모달 형태 (temporary)
  - Header: 전체 너비
  - Search 숨김, MobileSection 표시

### 주요 설정값

- `DRAWER_WIDTH`: 260px (Drawer 열림 너비)
- `MINI_DRAWER_WIDTH`: 60px (Drawer 닫힘 너비)
- `zIndex`: Header와 Drawer 모두 1200

### 상태 관리

- `menuMaster`: API를 통해 Drawer 열림/닫힘 상태 관리
- `handlerDrawerOpen`: Drawer 상태 변경 함수
- `useGetMenuMaster`: 메뉴 마스터 데이터 및 상태 조회

## 새 페이지 생성 가이드

### 1. 페이지 파일 생성

**위치**: `mantis/src/pages/{category}/{page-name}.jsx`

**기본 구조**:
```jsx
// material-ui
import Typography from '@mui/material/Typography';
import Grid from '@mui/material/Grid';

// project imports
import MainCard from 'components/MainCard';

// ==============================|| PAGE NAME ||============================== //

export default function PageName() {
  return (
    <Grid container rowSpacing={4.5} columnSpacing={2.75}>
      <Grid size={12}>
        <Typography variant="h5">Page Title</Typography>
      </Grid>
      <Grid size={12}>
        <MainCard title="Card Title">
          <Typography variant="body2">
            Page content here
          </Typography>
        </MainCard>
      </Grid>
    </Grid>
  );
}
```

### 2. 라우트 추가

**파일**: `mantis/src/routes/MainRoutes.jsx`

**패턴**:
```jsx
import { lazy } from 'react';
import Loadable from 'components/Loadable';

// Lazy loading으로 페이지 컴포넌트 로드
const PageName = Loadable(lazy(() => import('pages/{category}/{page-name}')));

const MainRoutes = {
  path: '/',
  element: <DashboardLayout />,
  children: [
    {
      path: 'page-path',
      element: <PageName />
    }
  ]
};
```

### 3. 메뉴 아이템 추가 (필수)

**중요**: 새로운 페이지가 생성될 때마다 반드시 `src/menu-items/` 디렉토리에 메뉴 아이템 파일을 추가해야 합니다.

**파일 위치**: `src/menu-items/{page-name}.tsx`

**파일 네이밍 규칙**:
- 페이지와 연관된 이름 사용 (예: `inquiry.tsx`, `mail.tsx`, `member.tsx`)
- 소문자와 하이픈 사용 (예: `user-management.tsx`)

**파일 구조 패턴**:

#### 예시 1: 단순 그룹 (inquiry.tsx 참고)
```typescript
import { SupportAgent } from '@mui/icons-material';

// icons
const icons = {
  SupportAgent,
};

// ==============================|| MENU ITEMS - INQUIRY ||============================== //

const inquiry = {
  id: 'inquiry',
  title: 'menu.inquiry',
  type: 'group' as const,
  icon: icons.SupportAgent,
  children: [
    {
      id: 'inquiry-list',
      title: 'menu.inquiry.list',
      type: 'item' as const,
      url: '/',
      icon: icons.SupportAgent,
    },
    {
      id: 'inquiry-analysis',
      title: 'menu.inquiry.analysis',
      type: 'item' as const,
      url: '/analysis',
      icon: icons.SupportAgent,
    },
  ],
};

export default inquiry;
```

#### 예시 2: 아코디언 포함 그룹 (mail.tsx 참고)
```typescript
import { Email, Send } from '@mui/icons-material';

// icons
const icons = {
  Email,
  Send,
};

// ==============================|| MENU ITEMS - MAIL ||============================== //

const mail = {
  id: 'mail',
  title: 'menu.mail',
  type: 'group' as const,
  icon: icons.Email,
  children: [
    {
      id: 'mail-send',
      title: 'menu.mail.send',
      type: 'collapse' as const,
      icon: icons.Send,
      children: [
        {
          id: 'mail-auto',
          title: 'menu.mail.auto',
          type: 'item' as const,
          url: '/auto-mail',
          icon: icons.Email,
        },
        {
          id: 'mail-manual',
          title: 'menu.mail.manual',
          type: 'item' as const,
          url: '/manual-mail',
          icon: icons.Email,
        },
      ],
    },
    {
      id: 'mail-management',
      title: 'menu.mail.management',
      type: 'collapse' as const,
      icon: icons.Email,
      children: [
        {
          id: 'mail-group',
          title: 'menu.mail.group',
          type: 'item' as const,
          url: '/mail-group',
          icon: icons.Email,
        },
        {
          id: 'mail-history',
          title: 'menu.mail.history',
          type: 'item' as const,
          url: '/mail-history',
          icon: icons.Email,
        },
      ],
    },
  ],
};

export default mail;
```

#### 예시 3: 단일 아이템 그룹 (member.tsx 참고)
```typescript
import { People } from '@mui/icons-material';

// icons
const icons = {
  People,
};

// ==============================|| MENU ITEMS - MEMBER ||============================== //

const member = {
  id: 'member',
  title: 'menu.member',
  type: 'group' as const,
  icon: icons.People,
  children: [
    {
      id: 'member-list',
      title: 'menu.member',
      type: 'item' as const,
      url: '/member',
      icon: icons.People,
    },
  ],
};

export default member;
```

**메뉴 아이템 타입**:
- `'group'`: 최상위 메뉴 그룹 (필수)
- `'item'`: 일반 메뉴 아이템
- `'collapse'`: 아코디언 메뉴 (하위 메뉴가 있는 경우)

**메뉴 아이템 속성**:
- `id`: 고유 식별자 (문자열)
- `title`: 다국어 키 (예: `'menu.inquiry'`)
- `type`: 메뉴 타입 (`'group' | 'item' | 'collapse'`)
- `url`: 라우트 경로 (선택사항, `item` 타입에 필수)
- `icon`: MUI 아이콘 컴포넌트 (선택사항)
- `children`: 하위 메뉴 배열 (선택사항, `group` 또는 `collapse` 타입에 사용)

**index.tsx에 추가**:
메뉴 아이템 파일을 생성한 후 `src/menu-items/index.tsx`에 import하고 `items` 배열에 추가해야 합니다:

```typescript
// project import
import inquiry from './inquiry';
import mail from './mail';
import member from './member';
import 새페이지명 from './새페이지명'; // 새로 추가

// ==============================|| MENU ITEMS ||============================== //

const menuItems = {
  items: [inquiry, mail, member, 새페이지명], // 새로 추가
};

export default menuItems;
```

**다국어 키 추가**:
메뉴 아이템의 `title`에 사용된 다국어 키를 `src/context/LanguageContext.tsx`에 추가해야 합니다:

```typescript
const translations: Record<Language, Record<string, string>> = {
  ko: {
    'menu.새페이지명': '새 페이지명 (한국어)',
    'menu.새페이지명.아이템': '아이템명 (한국어)',
    // ...
  },
  en: {
    'menu.새페이지명': 'New Page Name (English)',
    'menu.새페이지명.아이템': 'Item Name (English)',
    // ...
  },
  vi: {
    'menu.새페이지명': 'Tên Trang Mới (Tiếng Việt)',
    'menu.새페이지명.아이템': 'Tên Mục (Tiếng Việt)',
    // ...
  },
};
```

### 4. 페이지 컴포넌트 작성 가이드

#### Grid 레이아웃 사용
```jsx
import Grid from '@mui/material/Grid';

<Grid container rowSpacing={4.5} columnSpacing={2.75}>
  <Grid size={12}>
    {/* 전체 너비 */}
  </Grid>
  <Grid size={{ xs: 12, sm: 6, lg: 3 }}>
    {/* 반응형 그리드 */}
  </Grid>
</Grid>
```

#### MainCard 사용
```jsx
import MainCard from 'components/MainCard';

// 기본 사용
<MainCard title="Card Title">
  Content here
</MainCard>

// 헤더 없이 사용
<MainCard content={false}>
  Custom content
</MainCard>

// 액션 버튼 추가
<MainCard
  title="Card Title"
  secondary={<Button>Action</Button>}
>
  Content here
</MainCard>
```

#### Typography 사용
```jsx
import Typography from '@mui/material/Typography';

// 페이지 제목
<Typography variant="h5">Page Title</Typography>

// 본문
<Typography variant="body2">Content text</Typography>

// 보조 텍스트
<Typography variant="body2" color="text.secondary">
  Secondary text
</Typography>
```

### 5. 스타일링 가이드

#### MUI Grid 시스템
- **container**: 그리드 컨테이너
- **rowSpacing**: 행 간격 (기본: 4.5)
- **columnSpacing**: 열 간격 (기본: 2.75)
- **size**: 그리드 크기
  - 숫자: 고정 크기 (1-12)
  - 객체: 반응형 크기 `{ xs: 12, sm: 6, lg: 3 }`

#### sx prop 사용
```jsx
<Box
  sx={{
    p: 2,                    // padding: 2
    mt: 3,                   // margin-top: 3
    display: 'flex',         // display: flex
    flexDirection: 'column', // flex-direction: column
    gap: 2                   // gap: 2
  }}
>
```

#### 반응형 스타일
```jsx
sx={{
  width: { xs: '100%', sm: '50%', lg: '25%' },
  display: { xs: 'none', md: 'block' },
  p: { xs: 1, sm: 2, md: 3 }
}}
```

### 6. 페이지 예시

#### 간단한 페이지
```jsx
import Typography from '@mui/material/Typography';
import MainCard from 'components/MainCard';

export default function SimplePage() {
  return (
    <MainCard title="Simple Page">
      <Typography variant="body2">
        This is a simple page example.
      </Typography>
    </MainCard>
  );
}
```

#### 그리드 레이아웃 페이지
```jsx
import Grid from '@mui/material/Grid';
import Typography from '@mui/material/Typography';
import MainCard from 'components/MainCard';

export default function GridPage() {
  return (
    <Grid container rowSpacing={4.5} columnSpacing={2.75}>
      <Grid size={12}>
        <Typography variant="h5">Page Title</Typography>
      </Grid>
      <Grid size={{ xs: 12, sm: 6, lg: 3 }}>
        <MainCard title="Card 1">Content 1</MainCard>
      </Grid>
      <Grid size={{ xs: 12, sm: 6, lg: 3 }}>
        <MainCard title="Card 2">Content 2</MainCard>
      </Grid>
      <Grid size={{ xs: 12, sm: 6, lg: 3 }}>
        <MainCard title="Card 3">Content 3</MainCard>
      </Grid>
      <Grid size={{ xs: 12, sm: 6, lg: 3 }}>
        <MainCard title="Card 4">Content 4</MainCard>
      </Grid>
    </Grid>
  );
}
```

### 7. 주의사항

1. **레이아웃 구조**: 모든 페이지는 `DashboardLayout`의 `<Outlet />` 내부에 렌더링됩니다
2. **패딩**: Main Content Area에 이미 패딩이 있으므로 페이지 내부에서 추가 패딩은 신중하게 사용
3. **너비**: Main Content Area의 너비는 Drawer 상태에 따라 자동 조정됩니다
4. **Breadcrumbs**: 자동으로 표시되므로 별도 구현 불필요
5. **Footer**: 자동으로 표시되므로 별도 구현 불필요
6. **반응형**: 모든 컴포넌트는 반응형 디자인을 고려해야 합니다

### 8. 체크리스트

새 페이지 생성 시 확인사항:

- [ ] 페이지 파일이 올바른 위치에 생성되었는가? (`src/pages/`)
- [ ] 라우트가 `src/App.tsx`에 추가되었는가?
- [ ] Lazy loading이 적용되었는가? (`Loadable(lazy(...))`)
- [ ] **메뉴 아이템 파일이 `src/menu-items/`에 생성되었는가?** (필수)
- [ ] **메뉴 아이템이 `src/menu-items/index.tsx`에 추가되었는가?** (필수)
- [ ] **다국어 키가 `src/context/LanguageContext.tsx`에 추가되었는가?** (필수)
- [ ] Grid 레이아웃이 적절히 사용되었는가?
- [ ] 반응형 디자인이 고려되었는가?
- [ ] Typography가 적절히 사용되었는가?
- [ ] 다크모드에서도 잘 보이는가?

### 9. 참고 파일

- **레이아웃 메인**: `mantis/src/layout/Dashboard/index.jsx`
- **라우트 예시**: `mantis/src/routes/MainRoutes.jsx`
- **페이지 예시**:
  - `mantis/src/pages/dashboard/default.jsx` (복잡한 예시)
  - `mantis/src/pages/extra-pages/sample-page.jsx` (간단한 예시)
- **MainCard 컴포넌트**: `mantis/src/components/MainCard.jsx`
- **메뉴 아이템 예시**: `mantis/src/menu-items/` 디렉토리

### 10. 현재 프로젝트와의 관계

**중요**:
- Mantis 레이아웃은 **참고용**입니다
- 현재 프로젝트(`src/`)는 자체 `Layout.tsx` 컴포넌트를 사용합니다
- 새 페이지 생성 시 현재 프로젝트의 구조를 따릅니다:
  - 페이지 위치: `src/pages/`
  - 라우트: `src/App.tsx`
  - 레이아웃: `src/layout/Dashboard/`
  - **메뉴 아이템: `src/menu-items/`** (필수)

**Mantis 레이아웃을 참고하는 경우**:
- 레이아웃 구조 이해
- 컴포넌트 패턴 학습
- 스타일링 가이드 참고
- 반응형 디자인 패턴 학습

### 11. 메뉴 아이템 추가 필수 규칙

**새로운 페이지가 생성될 때마다 반드시 다음 단계를 수행해야 합니다:**

1. **메뉴 아이템 파일 생성**
   - 위치: `src/menu-items/{page-name}.tsx`
   - 파일명은 페이지와 연관된 이름 사용
   - 기존 파일(`inquiry.tsx`, `mail.tsx`, `member.tsx`) 중 하나를 참고하여 구조 생성

2. **index.tsx에 추가**
   - `src/menu-items/index.tsx`에 import 추가
   - `items` 배열에 새 메뉴 아이템 추가

3. **다국어 키 추가**
   - `src/context/LanguageContext.tsx`에 다국어 키 추가
   - 한국어, 영어, 베트남어 모두 추가 필수

**참고 파일**:
- `src/menu-items/inquiry.tsx` - 단순 그룹 예시
- `src/menu-items/mail.tsx` - 아코디언 포함 그룹 예시
- `src/menu-items/member.tsx` - 단일 아이템 그룹 예시
